---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import Showcase from "../components/Showcase.astro";


// const response = await fetch('https://jsonplaceholder.typicode.com/posts?_limit=5');
// const posts = await response.json();

const posts = await Astro.glob('../posts/*md');


---
<Layout title="Astro | Blog">
    <Showcase heading="Astro Blog" text="Simple Blog Build with Astro" showExtra={false}/>
    <section class="page-content">
        <div class="container">
            {posts.map(post =>(
                <Card
                        title={post.frontmatter.title}
                        body={post.frontmatter.excerpt}
                        showLink={true}
                        link={`/${post.frontmatter.slug}`}
                />
            ))}
        </div>
    </section>
</Layout>